var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

var BaseCarousel=new Class({Implements:[Options,Events],options:{container:null,active_class:"active",autoplay:true,autoplay_delay:1e4,infinite:true},initialize:function(opts){var self=this,options;self.setOptions(opts);options=self.options;self.current_index=0;self.container=$(options.container);self.slides=self.container.getChildren();self.slides[0].addClass(options.active_class);if(options.autoplay){self.play()}},getCurrentIndex:function(){var self=this,index=0+self.current_index;return index},getPreviousIndex:function(){var self=this,previous_index=self.current_index-1,slides=self.slides,total_slides=slides.length,max_index=total_slides-1,is_infinite=self.options.infinite;if(previous_index<0){if(is_infinite){previous_index=max_index}else{previous_index=0}}return previous_index},getNextIndex:function(){var self=this,next_index=self.current_index+1,slides=self.slides,total_slides=slides.length,max_index=total_slides-1,is_infinite=self.options.infinite;if(next_index>max_index){if(is_infinite){next_index=0}else{next_index=max_index}}return next_index},play:function(){var self=this;self.interval=setInterval(self.next.bind(self),self.options.autoplay_delay)},pause:function(){var self=this;clearInterval(self.interval)},show:function(index){var self=this,slides=self.slides;self.current_index=index;slides.removeClass("active");slides[index].addClass("active");self.fireEvent("change",{index:self.current_index,slides:slides})},previous:function(){var self=this;self.show(self.getPreviousIndex())},next:function(){var self=this;self.show(self.getNextIndex())}});var PagedCarousel=new Class({Extends:BaseCarousel,options:{previous_button:null,next_button:null,page_buttons:null},initialize:function(opts){var self=this,options;self.parent(opts);options=self.options;self.previous_button=$(options.previous_button);self.next_button=$(options.next_button);self.page_buttons=$$(options.page_buttons);if(self.page_buttons.length){self.page_buttons[0].addClass(options.active_class)}self.attachEvents()},attachEvents:function(){var self=this;if(self.page_buttons){self.page_buttons.addEvent("click",self.onPageClick.bind(this))}if(self.previous_button){self.previous_button.addEvent("click",self.onPreviousClick.bind(this))}if(self.next_button){self.next_button.addEvent("click",self.onNextClick.bind(this))}},onPageClick:function(e){var self=this,index=self.page_buttons.indexOf(e.target);self.show(index);clearInterval(self.interval);e.preventDefault()},onPreviousClick:function(e){var self=this;self.previous();clearInterval(self.interval);e.preventDefault()},onNextClick:function(e){var self=this;self.next();clearInterval(self.interval);e.preventDefault()},show:function(index){var self=this,slides=self.slides,total_slides=slides.length,max_index=total_slides-1,is_infinite=self.options.infinite,page_buttons=self.page_buttons,previous_button=self.previous_button,next_button=self.next_button;self.parent(index);if(!self.options.infinite){if(self.current_index===0){previous_button.addClass("disabled")}else{previous_button.removeClass("disabled")}if(self.current_index===max_index){next_button.addClass("disabled")}else{next_button.removeClass("disabled")}}if(page_buttons.length){page_buttons.removeClass(self.options.active_class);page_buttons[self.current_index].addClass(self.options.active_class)}}});var UserPortraits=function(PagedCarousel){var portraits_list,carousel_container,carousel_page_buttons,carousel_component;function initialize(){createElements()}function createElements(){portraits_list=$$(".js_portraits_list")[0];carousel_container=$$(".carousel_container")[0];if(portraits_list&&carousel_container&&typeof PagedCarousel!=="undefined"){createCarousel()}}function createCarousel(){carousel_page_buttons=portraits_list.getElements("[data-large-image]");carousel_page_buttons.addEvent("mouseover",onThumbnailHover);carousel_page_buttons.each(createCarouselPage);carousel_component=new PagedCarousel({container:carousel_container,autoplay:false,page_buttons:carousel_page_buttons});carousel_container.addClass("interactive");carousel_container.addEvent("mousedown",onPortraitMouseDown);carousel_container.addEvent("mouseup",onPortraitMouseUp)}function createCarouselPage(el,index){var placeholder=new Element("div");if(index===0){return placeholder.set("data-loaded","loaded").wraps(carousel_container.getElement("img"))}return placeholder.inject(carousel_container)}function preloadPortraitImage(src){var image=new Element("img");image.set("src",src);image.set("alt","").set("role","presentation");return image}function onThumbnailHover(e){var thumbnail=this,index=carousel_page_buttons.indexOf(thumbnail),panel=carousel_container.getChildren()[index],has_loaded=panel.get("data-loaded")==="loaded";if(!has_loaded){panel.adopt(preloadPortraitImage(thumbnail.get("data-large-image")));panel.set("data-loaded","loaded")}}function onPortraitMouseDown(e){var index=carousel_component.getNextIndex(),thumbnail=carousel_page_buttons[index],panel=carousel_container.getChildren()[index],has_loaded=panel.get("data-loaded")==="loaded";if(!has_loaded){panel.adopt(preloadPortraitImage(thumbnail.get("data-large-image")));panel.set("data-loaded","loaded")}}function onPortraitMouseUp(e){carousel_component.next()}return{initialize:initialize}}(PagedCarousel);var UserFollowButton=new Class({Implements:[Options],is_following:false,options:{element:null,user_id:null},initialize:function(options){var self=this;self.setOptions(options);self.createElements();self.createRequests();self.attachEvents()},createElements:function(){var self=this;self.button_element=$(self.options.element)},createRequests:function(){var self=this;self.follow_request=new Request({url:"/user"+self.options.user_id,method:"post",onRequest:self.onRequestStart.bind(self),onSuccess:self.onRequestSuccess.bind(self)})},attachEvents:function(){var self=this;self.button_element.addEvent("mouseover",self.onMouseOver.bind(self));self.button_element.addEvent("mouseout",self.onMouseOut.bind(self));self.button_element.addEvent("click",self.onToggleFollow.bind(self));Signal.user.followed.add(self.onFollowed.bind(self));Signal.user.unfollowed.add(self.onUnfollowed.bind(self))},isFollowing:function(){var self=this;return self.button_element.get("data-subscribed").toInt()===1},setFollowing:function(is_following){var self=this,button=self.button_element;self.swapLabels();self.swapEventAction("data-fatal-attraction");if(is_following){button.removeClass("follow").addClass("following")}else{button.removeClass("following").addClass("follow")}},swapLabels:function(){var self=this,button=self.button_element,cur_hover_text=button.get("data-hover-text"),cur_btn_text=button.get("data-btn-text"),cur_alt_text=button.get("data-alternate-text");button.set("data-btn-text",cur_alt_text).set("text",cur_alt_text).set("data-hover-text",button.get("data-alternate-hover")).set("data-alternate-text",cur_btn_text).set("data-alternate-hover",cur_hover_text)},swapEventAction:function(data_attribute){var self=this,button=self.button_element,cur_value=button.get(data_attribute);if(cur_value.indexOf("unfollow")!==-1){button.set(data_attribute,cur_value.split("unfollow").join("follow"))}else if(cur_value.indexOf("follow")!==-1){button.set(data_attribute,cur_value.split("follow").join("unfollow"))}},onMouseOver:function(){var self=this,button=self.button_element;button.set("text",button.get("data-hover-text"))},onMouseOut:function(){var self=this,button=self.button_element;button.set("text",button.get("data-btn-text"))},onToggleFollow:function(e){var self=this;if(self.follow_request.isRunning()){return}self.follow_request.send({data:{action:"toggle_follow",token:vimeo.xsrft}});e.preventDefault()},onRequestStart:function(){var self=this;if(self.button_element.hasClass("following")){self.button_element.removeClass("following").addClass("unfollowing")}self.button_element.addClass("btn_disabled")},onRequestSuccess:function(response_text){var self=this,did_follow=response_text==="true";self.button_element.removeClass("btn_disabled").removeClass("unfollowing");if(did_follow){Signal.user.followed.dispatch(self.options.user_id)}else{Signal.user.unfollowed.dispatch(self.options.user_id)}},onFollowed:function(user_id){var self=this;if(user_id===self.options.user_id){self.setFollowing(true)}},onUnfollowed:function(user_id){var self=this;if(user_id===self.options.user_id){self.setFollowing(false)}}});var UserSuggestionsPanel=new Class({Implements:[Options],has_loaded:false,options:{element:null,user_id:null,panel_height:null},initialize:function(options){var self=this;self.setOptions(options);self.createElements();self.createRequests();self.attachEvents()},createElements:function(){var self=this;self.panel_element=$(self.options.element)},createRequests:function(){var self=this;self.suggestions_request=new Request.HTML({method:"get",update:self.panel_element,onSuccess:self.onRequestSuccess.bind(self)})},attachEvents:function(){var self=this;self.panel_element.addEvent("click:relay(.undertaker)",self.onClose.bind(self));Signal.user.followed.add(self.onFollowed.bind(self))},onFollowed:function(user_id){var self=this,locked_id=self.options.user_id;if(locked_id===null||user_id===locked_id&&!self.has_loaded){self.load(user_id)}},onRequestSuccess:function(){var self=this,panel=self.panel_element,panel_height=self.options.panel_height;if(self.options.user_id!==null){self.has_loaded=true}if(panel_height){panel.addClass("open").setStyle("height",panel_height)}else{panel.addClass("open").setStyle("height",panel.measure(function(){return this.getSize().y}))}Signal.user.suggestions_returned.dispatch({panel_height:panel_height})},onClose:function(e){var self=this,panel=self.panel_element;self.panel_element.removeClass("open").setStyle("height",null).empty();e.preventDefault()},load:function(user_id){var self=this;if(self.suggestions_request.isRunning()){return}if(!user_id&&self.options.user_id){user_id=self.options.user_id}self.suggestions_request.send({url:"/user"+user_id,data:{action:"suggest_followers"}})}});var UserBio=function(){function initialize(){createElements();attachEvents()}function createElements(){}function attachEvents(){}return{initialize:initialize}}();var UserMain=function(){var follow_button,suggestions_panel,private_mode_notify,defaults={modules:[UserPortraits,UserBio]},options;function initialize(opts){options=Object.append(defaults,opts);options.modules.each(function(module){module.initialize(options)});private_mode_notify=$$(".js-opt_out_notify")[0];createElements();attachEvents()}function createElements(){var follow_button_el=$("follow_btn"),suggestions_panel_el=$$(".suggested_users")[0],opt_out_status;if(typeof Toucher!=="undefined"){new Toucher}if(vimeo.cur_user===null){return}if(follow_button_el){follow_button=new UserFollowButton({element:follow_button_el,user_id:follow_button_el.get("data-user-id")})}if(suggestions_panel_el){suggestions_panel=new UserSuggestionsPanel({element:suggestions_panel_el})}if(private_mode_notify){opt_out_status=Cookie.read("pro_opted_out")?JSON.decode(Cookie.read("pro_opted_out")):null;if(!opt_out_status||opt_out_status&&opt_out_status.display_mode!=="hide"){private_mode_notify.removeClass("hide")}}}function attachEvents(){var panel,close_btn;$("content").getElements("[data-stream] a").addEvent("click",onStreamChange);if(suggestions_panel){panel=suggestions_panel.panel_element;panel.addEvent("click:relay(.mini_follow_link)",quickFollow.bind(null))}if(private_mode_notify){close_btn=private_mode_notify.getElement(".undertaker");close_btn.addEvent("click",onOptOutNotifyClick)}}function onMiniFollowSuccess(data){var self=this,li=self.getParent("li"),new_li=Elements.from(data);new_li.replaces(li)}function onStreamChange(e){var stream_parent=this.getParent("[data-stream]"),stream=stream_parent?stream_parent.get("data-stream"):null;if(stream){Cookie.write("stream_id",stream,{domain:vimeo.domain,path:"/"})}}function onOptOutNotifyClick(e){var parent=e.target.getParent("p.js-opt_out_notify");parent.addClass("hide");Cookie.write("pro_opted_out",JSON.encode({display_mode:"hide"}))}function quickFollow(e){e=e||window.event;var user_id=e.target.get("data-user-id"),profile_user_id=$("follow_btn").get("data-user-id");new Request({url:"/user"+user_id,method:"post",data:{action:"toggle_follow",token:vimeo.xsrft,profile_user_id:profile_user_id,suggestion_follow:1},onSuccess:onMiniFollowSuccess.bind(e.target)}).send()}return{initialize:initialize}}();window.addEvent("domready",function(){UserMain.initialize()});

}
/*
     FILE ARCHIVED ON 18:13:02 Jun 16, 2016 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 14:15:30 Sep 20, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  RedisCDXSource: 43.801
  load_resource: 155.228
  exclusion.robots.policy: 0.322
  exclusion.robots: 0.339
  PetaboxLoader3.resolve: 78.827
  PetaboxLoader3.datanode: 224.377 (4)
  captures_list: 277.918
  CDXLines.iter: 25.322 (3)
  esindex: 0.017
  LoadShardBlock: 159.282 (3)
*/